<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Tumpara GraphQL</title>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js" integrity="sha512-qlzIeUtTg7eBpmEaS12NZgxz52YYZVF5myj89mjJEesBd/oE9UPsYOX2QAXzvOAZYEvQohKdcY8zKE02ifXDmA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js" integrity="sha512-9jGNr5Piwe8nzLLYTk8QrEMPfjGU0px80GYzKZUxi7lmCfrBjtyCc1V5kkS5vxVwwIB7Qpzc7UxLiQxfAN30dw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/graphiql/1.6.0/graphiql.min.css" integrity="sha512-6Z3DFK69TbD8GHEjY2/w0OkY7tjGLaXZwCJsZ48WEjpaLYjOyjbrZPm2fYat0xBvtdfgh49VQj5o0l1Ln1xDcg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

		<style>
			html,
			body {
				height: 100%;
				margin: 0;
				overflow: hidden;
				width: 100%;
			}

			#graphiql {
				height: 100vh;
			}
		</style>
	</head>
	<body>
		<div id="graphiql"></div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/graphiql/1.6.0/graphiql.min.js" integrity="sha512-+N+UyiLcnxkeVlbU3Y9MAEH3byxTPx3ok+BWxXUBLPoRQYuBr6vCsLiwtP9NI99cSIvZacWB1ZbS3kewMSVCXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script>
			async function fetchGraphQL(graphQLParams, options) {
				const response = await fetch('/api/graphql', {
					method: "post",
					headers: {
						Accept: "application/json",
						"Content-Type": "application/json",
						...(options.headers ?? {}),
					},
					body: JSON.stringify(graphQLParams),
				});
				try {
					return await response.json();
				} catch (error) {
					console.error(error);
					return await response.text();
				}
			}

			ReactDOM.render(
				React.createElement(GraphiQL, {
					fetcher: fetchGraphQL,
          defaultVariableEditorOpen: true,
					headerEditorEnabled: true,
					docExplorerOpen: true,
					defaultQuery: `# Welcome to Tumpara's GraphQL endpoint!
# ======================================
#
# GraphiQL (what you are looking at now) is an in-browser tool for writing,
# validating and testing queries directly on this Tumpara instance. Anything
# you execute here will be run on your live data, so be careful not to delete
# anything you might still need. If you would like to run queries in an
# anonymous session, open a private window in your browser.
#
# Keyboard shortcuts
# ------------------
# [Shift-Ctrl-P] Prettify query
# [Shift-Ctrl-M] Merge query
#   [Ctrl-Enter] Run query
#   [Ctrl-Space] Activate autocomplete

query {
	__typename
}`
				}, [
					React.createElement(GraphiQL.Logo, {}, [ 'Tumpara API Explorer' ])
				]),
				document.getElementById("graphiql")
			);
		</script>
	</body>
</html>
